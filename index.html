<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-COMPATIBLE" content="IE-edge">
    <meta name="viewport" content="width=device.width, initial-scale=1">

    <title>WebMail</title>
    <link rel="stylesheet" href="bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="bootstrap/css/bootstrap-theme.min.css">

    <link rel="stylesheet" href="style.css">
  </head>

  <body ng-app="webMail" ng-controller="webMailCtrl">
    <div class="container">
      <ul class="nav nav-pills spacer">
        <li ng-repeat="folder in folders"
            ng-class="{ active: folder == currentFolder }" class="clickable"><a href="#{{folder.value}}">{{folder.label}}</a></li>
      </ul>

      <div ng-show="currentFolder != null">
        <table class="table table-striped table-hover space">
          <thead>
            <tr>
              <th>
                <a ng-click="sortBySender()">De</a>
                <span class="hspacer" ng-class="{ glyphicon: sortBy == 'from', 'glyphicon-chevron-up': sortBy == 'from' && !sortDesc,
                 'glyphicon-chevron-down': sortBy == 'from' && sortDesc}"></span>
              </th>
              <th>
                <a ng-click="sortByReceiver()">&Agrave;</a>
                <span class="hspacer" ng-class="{ glyphicon: sortBy == 'to', 'glyphicon-chevron-up': sortBy == 'to' && !sortDesc,
                 'glyphicon-chevron-down': sortBy == 'to' && sortDesc }"></span>
              </th>
              <th>Objet</th>
              <th>Date</th>
            </tr>
          </thead>
          <tbody>
            <tr class="clickable" ng-repeat="email in currentFolder.emails | orderBy:sortBy:sortDesc" ng-click="toEmail(currentFolder,email)">
              <td>{{email.from}}</td>
              <td>{{email.to}}</td>
              <td>{{email.subject}}</td>
              <td>{{email.date}}</td>
            </tr>
          </tbody>
        </table>

        <div class="alert alert-info">le dossier contien {{currentFolder.emails.length}} mails !</div>

      </div>

      <div ng-show="currentEmail != null">
        <div class="well">
          <h1>{{currentEmail.subject}}</h1>
          <p><label for="">De:</label><span> {{currentEmail.from}}</span></p>
          <p><label for="">&Agrave;:</label><span> {{currentEmail.to}}</span></p>
          <p><label for="">Date: </label><span> {{currentEmail.date}}</span></p>
        </div>

        <p ng-bind-html="currentEmail.content">{{currentEmail.content}}</p>

      </div>

    </div>

    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.3/angular.min.js"></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.3/angular-sanitize.min.js"></script>
    <script type="text/javascript" src="app.js"></script>
  </body>

</html>